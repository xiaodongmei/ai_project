# å¿«é€Ÿå¼€å§‹æŒ‡å—

## é¡¹ç›®æ¦‚è§ˆ
å…»ç”Ÿåº—ç®¡ç†ç³»ç»Ÿ - ä¸€ä¸ªå®Œæ•´çš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼ŒåŒ…æ‹¬ Web ç½‘é¡µç³»ç»Ÿå’Œå¾®ä¿¡å°ç¨‹åº

## é¡¹ç›®ä¿¡æ¯
- é¡¹ç›®è·¯å¾„: `/Users/xiaodongmei/Desktop/xdm_2026_agent/ys/wellness-shop-system/`
- æ€»æ–‡ä»¶æ•°: 55 ä¸ª
- åç«¯: FastAPI + PostgreSQL + SQLAlchemy
- å‰ç«¯: Vue 3 + Pinia + Element Plus + Vite
- å°ç¨‹åº: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿ

---

## 5 åˆ†é’Ÿå¯åŠ¨é¡¹ç›®

### 1ï¸âƒ£ å¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®æ•°æ®åº“ï¼ˆé‡è¦ï¼ï¼‰
cp .env.example .env
# ç¼–è¾‘ .envï¼Œé…ç½®ä½ çš„ PostgreSQL æ•°æ®åº“åœ°å€

# åˆå§‹åŒ–æ•°æ®åº“
python init_db.py

# å¯åŠ¨æœåŠ¡ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰
uvicorn app.main:app --reload
```

**åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸå**:
- API æœåŠ¡: http://localhost:8000
- API æ–‡æ¡£: http://localhost:8000/docs
- å¥åº·æ£€æŸ¥: http://localhost:8000/health

---

### 2ï¸âƒ£ å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡

```bash
# æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œè¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**å‰ç«¯å¯åŠ¨æˆåŠŸå**:
- å‰ç«¯åœ°å€: http://localhost:5173
- è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

---

### 3ï¸âƒ£ é…ç½®å°ç¨‹åºï¼ˆå¯é€‰ï¼‰

```bash
# ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€æ­¤ç›®å½•
# miniprogram/

# ä¿®æ”¹ app.js ä¸­çš„ apiUrl æŒ‡å‘ä½ çš„åç«¯æœåŠ¡
# const apiUrl = 'http://localhost:8000/api/v1'
```

---

## ç›®å½•ç»“æ„é€Ÿè§ˆ

```
wellness-shop-system/
â”œâ”€â”€ backend/              # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ models/      # æ•°æ®æ¨¡å‹ï¼ˆ14 ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ schemas/     # Pydantic æ¨¡å¼ï¼ˆ22 ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ api/         # API ç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ core/        # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ db/          # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ main.py      # FastAPI åº”ç”¨
â”‚   â”œâ”€â”€ init_db.py       # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ requirements.txt  # Python ä¾èµ–
â”œâ”€â”€ frontend/            # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/       # é¡µé¢ç»„ä»¶ï¼ˆ7 ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ router/      # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ store/       # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/         # API å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ main.js      # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json     # npm ä¾èµ–
â”œâ”€â”€ miniprogram/         # å¾®ä¿¡å°ç¨‹åº
â”‚   â”œâ”€â”€ pages/           # é¡µé¢
â”‚   â”œâ”€â”€ api/             # æ¥å£
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ app.js           # åº”ç”¨åˆå§‹åŒ–
â””â”€â”€ docs/                # æ–‡æ¡£
    â”œâ”€â”€ README.md        # é¡¹ç›®è¯´æ˜
    â”œâ”€â”€ SETUP.md         # åˆå§‹åŒ–æŒ‡å—
    â”œâ”€â”€ DEVELOPMENT.md   # å¼€å‘æŒ‡å—
    â”œâ”€â”€ PROGRESS.md      # è¿›åº¦æ€»ç»“
    â””â”€â”€ QUICKSTART.md    # æœ¬æ–‡ä»¶
```

---

## æ•°æ®åº“é…ç½®

### PostgreSQL å®‰è£…

**macOS:**
```bash
brew install postgresql
brew services start postgresql
```

**åˆ›å»ºæ•°æ®åº“:**
```sql
CREATE DATABASE wellness_shop;
```

**é…ç½®è¿æ¥å­—ç¬¦ä¸²:**
```
# backend/.env
DATABASE_URL=postgresql://username:password@localhost:5432/wellness_shop
```

---

## ä¸»è¦åŠŸèƒ½å®ç°æƒ…å†µ

### âœ“ å·²å®Œæˆ
- 14 ä¸ªæ•°æ®æ¨¡å‹ï¼ˆå®Œæ•´çš„æ•°æ®åº“è®¾è®¡ï¼‰
- 22 ä¸ª Pydantic æ¨¡å¼ï¼ˆè¯·æ±‚/å“åº”éªŒè¯ï¼‰
- FastAPI æ¡†æ¶æ­å»º
- æ•°æ®åº“è¿æ¥å’Œ ORM é…ç½®
- è®¤è¯å’Œå®‰å…¨å·¥å…·
- å‰ç«¯è·¯ç”±å’Œ Axios å®¢æˆ·ç«¯
- å°ç¨‹åºåŸºç¡€æ¡†æ¶

### ğŸ”„ è¿›è¡Œä¸­
- å‰ç«¯é¡µé¢è¯¦ç»†å®ç°
- API ç«¯ç‚¹å¼€å‘

### â³ å¾…å®Œæˆ
- åç«¯ API ç«¯ç‚¹å…¨éƒ¨å®ç°
- å‰ç«¯å„é¡µé¢åŠŸèƒ½
- å°ç¨‹åºå„é¡µé¢å®ç°
- æ”¯ä»˜é›†æˆ
- éƒ¨ç½²é…ç½®

---

## å¿«é€Ÿ API æµ‹è¯•

å¯åŠ¨åç«¯åï¼Œè®¿é—® http://localhost:8000/docs å¯ä»¥çœ‹åˆ° Swagger æ–‡æ¡£

æˆ–ä½¿ç”¨ curl æµ‹è¯•:

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# è·å– API ä¿¡æ¯
curl http://localhost:8000/api/v1/info
```

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### Q: PostgreSQL è¿æ¥å¤±è´¥
A:
1. ç¡®è®¤ PostgreSQL æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ `.env` ä¸­çš„è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤æ•°æ®åº“å·²åˆ›å»º

### Q: å‰ç«¯è¯·æ±‚åç«¯ API å¤±è´¥
A:
1. åç«¯æœåŠ¡æ˜¯å¦åœ¨è¿è¡Œï¼ˆ8000 ç«¯å£ï¼‰
2. å‰ç«¯ `vite.config.js` ä¸­çš„ä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

### Q: npm install å¤±è´¥
A:
1. åˆ é™¤ `node_modules` å’Œ `package-lock.json`
2. è¿è¡Œ `npm cache clean --force`
3. é‡æ–° `npm install`

### Q: Python ä¾èµ–å®‰è£…å¤±è´¥
A:
1. ç¡®è®¤ Python ç‰ˆæœ¬ >= 3.9
2. è€ƒè™‘ä½¿ç”¨é•œåƒåŠ é€Ÿï¼š
   ```bash
   pip install -r requirements.txt -i https://pypi.tsinghua.edu.cn/simple
   ```

---

## å¼€å‘å·¥ä½œæµ

### æ·»åŠ æ–°çš„æ•°æ®åº“è¡¨

1. åœ¨ `backend/app/models/` åˆ›å»ºæ¨¡å‹æ–‡ä»¶
2. åœ¨ `backend/app/schemas/` åˆ›å»º Pydantic æ¨¡å¼
3. è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–ï¼š`python init_db.py`

### æ·»åŠ æ–°çš„ API ç«¯ç‚¹

1. åœ¨ `backend/app/api/v1/endpoints/` åˆ›å»ºè·¯ç”±æ–‡ä»¶
2. åœ¨ `backend/app/api/v1/routers.py` æ³¨å†Œè·¯ç”±
3. é‡å¯åç«¯æœåŠ¡

### æ·»åŠ å‰ç«¯é¡µé¢

1. åœ¨ `frontend/src/pages/` åˆ›å»º .vue æ–‡ä»¶
2. åœ¨ `frontend/src/router/index.js` æ·»åŠ è·¯ç”±
3. åˆ·æ–°å‰ç«¯

---

## ä»£ç è§„èŒƒ

### Python (åç«¯)
- PEP 8 è§„èŒƒ
- ä½¿ç”¨ Black æ ¼å¼åŒ–: `black app/`
- ä½¿ç”¨ Flake8 æ£€æŸ¥: `flake8 app/`

### JavaScript/Vue (å‰ç«¯)
- Airbnb è§„èŒƒ
- ä½¿ç”¨ ESLint: `npm run lint`
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–

---

## æœ‰ç”¨çš„å‘½ä»¤

### åç«¯
```bash
# æ ¼å¼åŒ–ä»£ç 
black app/

# æ£€æŸ¥ä»£ç è´¨é‡
flake8 app/

# æ•´ç†å¯¼å…¥
isort app/

# è¿è¡Œæµ‹è¯•
pytest

# åˆå§‹åŒ–æ•°æ®åº“
python init_db.py
```

### å‰ç«¯
```bash
# æ£€æŸ¥ä»£ç 
npm run lint

# æ ¼å¼åŒ–ä»£ç 
npm run format

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

---

## éƒ¨ç½²å»ºè®®

### åç«¯éƒ¨ç½²
1. ä½¿ç”¨ Gunicorn + Uvicorn
2. é…ç½® Nginx åå‘ä»£ç†
3. ä½¿ç”¨ PostgreSQL 13+
4. é…ç½®ç¯å¢ƒå˜é‡
5. å¯ç”¨ HTTPS

### å‰ç«¯éƒ¨ç½²
1. è¿è¡Œ `npm run build` ç”Ÿæˆ dist
2. ä¸Šä¼  dist æ–‡ä»¶å¤¹åˆ°æœåŠ¡å™¨
3. é…ç½® Nginx æˆ– Apache æœåŠ¡
4. å¯ç”¨ HTTPS å’Œ CORS é…ç½®

### å°ç¨‹åºå‘å¸ƒ
1. ä¸Šä¼ è‡³å¾®ä¿¡å…¬ä¼—å¹³å°
2. é…ç½®æœåŠ¡å™¨åœ°å€ï¼ˆéœ€è¦å¤‡æ¡ˆï¼‰
3. ç”³è¯·ç›¸å…³æƒé™
4. æäº¤å®¡æ ¸

---

## è·å–å¸®åŠ©

- æŸ¥çœ‹ `README.md` äº†è§£é¡¹ç›®è¯¦æƒ…
- æŸ¥çœ‹ `DEVELOPMENT.md` äº†è§£è¯¦ç»†å¼€å‘æŒ‡å—
- æŸ¥çœ‹ `PROGRESS.md` äº†è§£é¡¹ç›®è¿›åº¦
- è®¿é—® http://localhost:8000/docs æŸ¥çœ‹ API æ–‡æ¡£

---

## ä¸‹ä¸€æ­¥å»ºè®®

1. **ç«‹å³å°è¯•**:
   - å¯åŠ¨åç«¯å’Œå‰ç«¯
   - è®¿é—® http://localhost:5173 æŸ¥çœ‹å‰ç«¯ç•Œé¢
   - åœ¨ http://localhost:8000/docs æ¢ç´¢ API

2. **ç»§ç»­å¼€å‘**:
   - å®Œæˆå‰ç«¯ç™»å½•å’Œä»ªè¡¨æ¿é¡µé¢
   - å®ç°åç«¯ API ç«¯ç‚¹
   - é›†æˆæ•°æ®åº“æ“ä½œ

3. **è´¨é‡ä¿è¯**:
   - ç¼–å†™å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•
   - ç”¨æˆ·éªŒæ”¶æµ‹è¯•

---

**å¿«ä¹å¼€å‘ï¼** ğŸš€
