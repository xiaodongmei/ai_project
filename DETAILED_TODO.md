# 养生店管理系统 - 详细 TODO 任务列表

## 总任务数: 50+ | 当前完成: 20 | 待完成: 30+

---

## 优先级 1: 后端 API 端点实现（关键路径）

### 1.1 顾客管理 API (5 个任务)

- [ ] **TASK-B-001**: 实现 GET /api/v1/customers - 顾客列表
  - 字段: id, name, phone, member_level, balance, total_consumption, created_at
  - 支持筛选: 会员等级、名称搜索
  - 支持分页: page, page_size
  - 所需时间: 2小时

- [ ] **TASK-B-002**: 实现 GET /api/v1/customers/{id} - 顾客详情
  - 返回完整顾客信息
  - 包含消费统计数据
  - 所需时间: 1小时

- [ ] **TASK-B-003**: 实现 POST /api/v1/customers - 新增顾客
  - 验证必填字段
  - 检查手机号/微信ID重复
  - 返回新建顾客信息
  - 所需时间: 1.5小时

- [ ] **TASK-B-004**: 实现 PUT /api/v1/customers/{id} - 更新顾客
  - 支持部分更新
  - 验证数据
  - 返回更新后的信息
  - 所需时间: 1.5小时

- [ ] **TASK-B-005**: 实现 DELETE /api/v1/customers/{id} - 删除顾客
  - 逻辑删除（设置 is_active = False）
  - 返回成功消息
  - 所需时间: 1小时

**小计**: 5 个任务，7小时

### 1.2 产品管理 API (8 个任务)

- [ ] **TASK-B-006**: 实现 GET /api/v1/products - 产品列表
  - 字段: id, name, category, member_price, non_member_price, stock, image_url
  - 支持筛选: 分类、名称搜索、库存状态
  - 支持排序: 销售数、评分
  - 所需时间: 2小时

- [ ] **TASK-B-007**: 实现 GET /api/v1/products/{id} - 产品详情
  - 返回完整产品信息
  - 包含评价统计
  - 所需时间: 1小时

- [ ] **TASK-B-008**: 实现 POST /api/v1/products - 新增产品
  - 验证必填字段
  - 处理图片上传
  - 返回新建产品
  - 所需时间: 2小时

- [ ] **TASK-B-009**: 实现 PUT /api/v1/products/{id} - 更新产品
  - 支持部分更新
  - 处理图片更新
  - 所需时间: 2小时

- [ ] **TASK-B-010**: 实现 DELETE /api/v1/products/{id} - 删除产品
  - 检查订单关联
  - 逻辑删除
  - 所需时间: 1小时

- [ ] **TASK-B-011**: 实现 GET /api/v1/categories - 产品分类列表
  - 返回分类树结构
  - 包含分类下产品数
  - 所需时间: 1.5小时

- [ ] **TASK-B-012**: 实现 POST /api/v1/categories - 新增产品分类
  - 验证分类名称
  - 检查重复
  - 所需时间: 1小时

- [ ] **TASK-B-013**: 实现 PUT /api/v1/categories/{id} - 更新产品分类
  - 更新分类信息
  - 所需时间: 1小时

**小计**: 8 个任务，11.5小时

### 1.3 订单管理 API (8 个任务)

- [ ] **TASK-B-014**: 实现 GET /api/v1/orders - 订单列表
  - 字段: order_no, customer, total_amount, status, created_at
  - 支持筛选: 状态、时间范围、顾客、员工
  - 支持分页
  - 所需时间: 2小时

- [ ] **TASK-B-015**: 实现 GET /api/v1/orders/{id} - 订单详情
  - 返回完整订单信息
  - 包含订单项目列表
  - 包含支付记录
  - 所需时间: 1.5小时

- [ ] **TASK-B-016**: 实现 POST /api/v1/orders - 创建订单
  - 验证顾客和员工存在
  - 验证产品库存
  - 自动生成订单号
  - 返回新建订单
  - 所需时间: 2小时

- [ ] **TASK-B-017**: 实现 PUT /api/v1/orders/{id} - 更新订单
  - 支持更新状态、备注等
  - 验证状态转移逻辑
  - 所需时间: 1.5小时

- [ ] **TASK-B-018**: 实现 DELETE /api/v1/orders/{id} - 删除订单
  - 只能删除未支付订单
  - 逻辑删除
  - 所需时间: 1小时

- [ ] **TASK-B-019**: 实现 POST /api/v1/orders/{id}/payment - 订单支付
  - 创建支付记录
  - 更新订单状态
  - 返回支付结果
  - 所需时间: 2小时

- [ ] **TASK-B-020**: 实现 GET /api/v1/orders/{id}/items - 订单项目
  - 返回订单所有项目
  - 包含产品详细信息
  - 所需时间: 1小时

- [ ] **TASK-B-021**: 实现 POST /api/v1/orders/{id}/refund - 订单退款
  - 验证退款条件
  - 创建退款记录
  - 更新库存
  - 所需时间: 2小时

**小计**: 8 个任务，13小时

### 1.4 员工管理 API (6 个任务)

- [ ] **TASK-B-022**: 实现 GET /api/v1/employees - 员工列表
  - 字段: name, employee_id, position, department, salary, status
  - 支持筛选: 岗位、部门、状态
  - 支持分页
  - 所需时间: 2小时

- [ ] **TASK-B-023**: 实现 GET /api/v1/employees/{id} - 员工详情
  - 返回完整员工信息
  - 包含绩效统计
  - 所需时间: 1.5小时

- [ ] **TASK-B-024**: 实现 POST /api/v1/employees - 新增员工
  - 验证员工号唯一性
  - 关联用户账号
  - 所需时间: 1.5小时

- [ ] **TASK-B-025**: 实现 PUT /api/v1/employees/{id} - 更新员工
  - 支持部分更新
  - 验证数据
  - 所需时间: 1.5小时

- [ ] **TASK-B-026**: 实现 DELETE /api/v1/employees/{id} - 删除员工
  - 逻辑删除
  - 不能删除有订单关联的员工
  - 所需时间: 1小时

- [ ] **TASK-B-027**: 实现 GET /api/v1/employees/{id}/performance - 员工绩效
  - 返回绩效统计数据
  - 支持日期范围筛选
  - 所需时间: 1.5小时

**小计**: 6 个任务，9小时

### 1.5 统计分析 API (4 个任务)

- [ ] **TASK-B-028**: 实现 GET /api/v1/statistics/dashboard - 仪表板数据
  - 返回所有关键指标
  - 包含图表所需数据
  - 所需时间: 2小时

- [ ] **TASK-B-029**: 实现 GET /api/v1/statistics/revenue - 收入统计
  - 按时间段统计
  - 支持日/周/月/年视图
  - 所需时间: 2小时

- [ ] **TASK-B-030**: 实现 GET /api/v1/statistics/channels - 渠道分析
  - 按渠道统计收入和订单数
  - 所需时间: 1.5小时

- [ ] **TASK-B-031**: 实现 GET /api/v1/statistics/products/sales - 产品销售排行
  - 返回销售数量和金额
  - 支持排序和分页
  - 所需时间: 1.5小时

**小计**: 4 个任务，7小时

**后端 API 总计**: 31 个任务，47.5小时

---

## 优先级 2: 前端页面和组件完成（并行开发）

### 2.1 订单管理模块 (4 个任务)

- [ ] **TASK-F-001**: 创建 Orders.vue - 订单列表页面
  - 订单搜索和筛选表单
  - 订单列表表格（分页）
  - 新增/编辑/删除操作
  - 订单详情抽屉
  - 所需时间: 4小时

- [ ] **TASK-F-002**: 创建 OrderDialog.vue - 订单创建/编辑对话框
  - 顾客选择器
  - 员工选择器
  - 产品项目添加
  - 价格和折扣计算
  - 所需时间: 3小时

- [ ] **TASK-F-003**: 创建 OrderPaymentDialog.vue - 订单支付对话框
  - 支付方式选择
  - 支付金额输入
  - 所需时间: 2小时

- [ ] **TASK-F-004**: 创建 OrderDrawer.vue - 订单详情抽屉
  - 订单基本信息展示
  - 项目列表
  - 支付记录
  - 操作按钮
  - 所需时间: 3小时

**小计**: 4 个任务，12小时

### 2.2 员工管理模块 (3 个任务)

- [ ] **TASK-F-005**: 创建 Employees.vue - 员工列表页面
  - 员工搜索和筛选
  - 员工列表表格
  - 新增/编辑/删除操作
  - 所需时间: 3小时

- [ ] **TASK-F-006**: 创建 EmployeeDialog.vue - 员工新增/编辑对话框
  - 基本信息输入
  - 岗位部门选择
  - 薪资设置
  - 所需时间: 2.5小时

- [ ] **TASK-F-007**: 创建 EmployeeDrawer.vue - 员工详情抽屉
  - 员工详细信息
  - 绩效统计
  - 操作按钮
  - 所需时间: 2.5小时

**小计**: 3 个任务，8小时

### 2.3 产品管理相关对话框 (2 个任务)

- [ ] **TASK-F-008**: 创建 ProductDialog.vue - 产品新增/编辑对话框
  - 产品信息输入
  - 分类选择
  - 价格设置
  - 图片上传
  - 所需时间: 3小时

- [ ] **TASK-F-009**: 创建 CategoryDialog.vue - 分类管理对话框
  - 分类列表
  - 新增/编辑/删除
  - 所需时间: 2小时

**小计**: 2 个任务，5小时

### 2.4 统计分析页面 (1 个任务)

- [ ] **TASK-F-010**: 创建 Statistics.vue - 统计分析页面
  - 日期范围选择
  - 多维度统计展示
  - 各种报表和图表
  - 数据导出功能
  - 所需时间: 5小时

**小计**: 1 个任务，5小时

### 2.5 公共组件库 (5 个任务)

- [ ] **TASK-F-011**: 创建 Table.vue - 通用数据表格组件
  - 列定义和渲染
  - 分页
  - 排序和筛选
  - 行操作按钮
  - 所需时间: 3小时

- [ ] **TASK-F-012**: 创建 SearchForm.vue - 搜索表单组件
  - 动态字段支持
  - 表单验证
  - 查询和重置
  - 所需时间: 2小时

- [ ] **TASK-F-013**: 创建 ConfirmDialog.vue - 确认对话框
  - 危险操作提示
  - 确认和取消
  - 所需时间: 1.5小时

- [ ] **TASK-F-014**: 完善 Modal.vue - 模态框组件
  - 加载状态
  - 错误处理
  - 所需时间: 1小时

- [ ] **TASK-F-015**: 创建 DateRangePicker.vue - 日期范围选择器
  - 日期范围选择
  - 预设范围（今天、7天、30天等）
  - 所需时间: 2小时

**小计**: 5 个任务，9.5小时

### 2.6 其他页面 (2 个任务)

- [ ] **TASK-F-016**: 创建 Profile.vue - 个人资料页面
  - 显示用户信息
  - 编辑个人资料
  - 修改密码
  - 所需时间: 2小时

- [ ] **TASK-F-017**: 创建 Settings.vue - 系统设置页面
  - 门店信息配置
  - 支付配置
  - 系统参数设置
  - 所需时间: 2小时

**小计**: 2 个任务，4小时

**前端总计**: 17 个任务，43.5小时

---

## 优先级 3: 小程序完整实现

### 3.1 小程序页面 (5 个任务)

- [ ] **TASK-M-001**: 完成首页 - 产品展示
  - 轮播图
  - 分类导航
  - 热销产品
  - 推荐产品
  - 所需时间: 3小时

- [ ] **TASK-M-002**: 创建产品列表和详情页面
  - 产品列表（分类筛选）
  - 产品详情（图片、价格、描述）
  - 加入购物车
  - 所需时间: 4小时

- [ ] **TASK-M-003**: 创建购物车功能
  - 购物车列表
  - 数量修改
  - 商品删除
  - 结算
  - 所需时间: 3小时

- [ ] **TASK-M-004**: 创建订单管理页面
  - 订单列表
  - 订单详情
  - 订单取消/退货
  - 所需时间: 3小时

- [ ] **TASK-M-005**: 创建个人中心页面
  - 个人信息
  - 订单历史
  - 卡券管理
  - 设置
  - 所需时间: 3小时

**小计**: 5 个任务，16小时

### 3.2 小程序支付和认证 (2 个任务)

- [ ] **TASK-M-006**: 集成微信支付
  - 调用支付 API
  - 支付结果处理
  - 支付记录保存
  - 所需时间: 3小时

- [ ] **TASK-M-007**: 完善用户认证
  - 微信授权登录
  - Token 管理
  - 登录状态持久化
  - 所需时间: 2小时

**小计**: 2 个任务，5小时

**小程序总计**: 7 个任务，21小时

---

## 优先级 4: 测试和优化

### 4.1 后端测试 (3 个任务)

- [ ] **TASK-T-001**: 编写后端单元测试
  - 测试数据模型
  - 测试业务逻辑
  - 所需时间: 5小时

- [ ] **TASK-T-002**: 编写后端集成测试
  - 测试 API 端点
  - 测试数据库操作
  - 所需时间: 5小时

- [ ] **TASK-T-003**: 性能测试和优化
  - 数据库查询优化
  - 缓存优化
  - 所需时间: 4小时

**小计**: 3 个任务，14小时

### 4.2 前端测试 (2 个任务)

- [ ] **TASK-T-004**: 编写前端组件测试
  - 使用 Vitest
  - 测试组件功能
  - 所需时间: 3小时

- [ ] **TASK-T-005**: 前端集成测试
  - 测试页面路由
  - 测试 API 调用
  - 所需时间: 3小时

**小计**: 2 个任务，6小时

### 4.3 样式和主题 (2 个任务)

- [ ] **TASK-T-006**: 完善 CSS 样式
  - 定义 CSS 变量
  - 全局样式
  - SCSS 混合函数
  - 所需时间: 3小时

- [ ] **TASK-T-007**: 响应式设计适配
  - 移动端适配
  - 平板端适配
  - 所需时间: 2小时

**小计**: 2 个任务，5小时

**测试总计**: 7 个任务，25小时

---

## 优先级 5: 部署和文档

### 5.1 部署配置 (2 个任务)

- [ ] **TASK-D-001**: Docker 容器化
  - 后端 Dockerfile
  - docker-compose.yml
  - 所需时间: 2小时

- [ ] **TASK-D-002**: 部署脚本和配置
  - 生产环境配置
  - CI/CD 流程
  - 所需时间: 3小时

**小计**: 2 个任务，5小时

### 5.2 文档编写 (3 个任务)

- [ ] **TASK-D-003**: API 文档完善
  - 补充所有端点说明
  - 添加示例代码
  - 所需时间: 2小时

- [ ] **TASK-D-004**: 前端开发文档
  - 组件使用说明
  - 状态管理说明
  - 所需时间: 2小时

- [ ] **TASK-D-005**: 小程序开发文档
  - 页面说明
  - 配置说明
  - 所需时间: 2小时

**小计**: 3 个任务，6小时

**部署和文档总计**: 5 个任务，11小时

---

## 📊 总结

### 任务统计
| 优先级 | 模块 | 任务数 | 预计时间 |
|--------|------|--------|----------|
| 1 | 后端 API | 31 | 47.5h |
| 2 | 前端页面和组件 | 17 | 43.5h |
| 3 | 小程序 | 7 | 21h |
| 4 | 测试和优化 | 7 | 25h |
| 5 | 部署和文档 | 5 | 11h |
| **总计** | | **67** | **148h** |

### 开发时间估算
- **后端**: 47.5小时 ≈ 1.5周（3人x8h）
- **前端**: 43.5小时 ≈ 1.5周（3人x8h）
- **小程序**: 21小时 ≈ 0.5周（1人）
- **测试和优化**: 25小时 ≈ 1周（2人）
- **部署和文档**: 11小时 ≈ 0.5周（2人）

**总体工期**: 约 4-5周（团队协作）

---

## 🎯 推荐执行顺序

1. **第1周**: 完成后端 API 端点（优先级1）
2. **第1-2周**: 并行开发前端页面（优先级2）
3. **第2周**: 完成小程序页面（优先级3）
4. **第3周**: 测试和优化（优先级4）
5. **第4周**: 部署和文档完善（优先级5）

---

**最后更新**: 2026-01-28
**总任务数**: 67
**预计总时间**: 148小时
